{#
/**
 * @file
 * Default template for custom theme hook to display provider appointment flow.
 *
 * @see uwmcs_ecare_scheduling/src/Controller/UwmSchedulingController
 *
 */
#}
<div class="appointment-flow">
  
  <div class="appointment-flow__step" data-step="visited-before">
    <p class="appointment-flow__step-text">{{ "Have you visited this doctor before?"|t }}</p>

    <div class="appointment-flow__step-buttons">

      <a href="#" class="appointment-flow__step-button btn-cta-solid" data-btn="no">{{ "No"|t }}</a>

      <a href="#" class="appointment-flow__step-button btn-cta-solid" data-btn="yes">{{ "Yes"|t }}</a>

    </div>
  </div>


  <div class="appointment-flow__step" data-step="ecare-account">
    <p class="appointment-flow__step-text">{{ "Do you have an eCare (patient) account?"|t }}</p>

    <div class="appointment-flow__step-buttons">

      <a href="#" class="appointment-flow__step-button btn-cta-solid" data-btn="no">{{ "No"|t }}</a>

      {#
        The provider has direct scheduling and the user has an eCare account,
        so this links to full eCare site for direct scheduling.

        If not on provider page, 'selProvId' is set by JS.
      #}
      {# TODO: link w/ provider Epic ID #}
      {%
        set direct_sched_url = 'https://ecare.uwmedicine.org/prod01/Scheduling?workflow=ExistingProvider&selProvId=' ~ (epicID ? epicID : '')
      %}
      <a href="{{ direct_sched_url }}" target="_blank" class="appointment-flow__step-button btn-cta-solid appointment-flow__direct-scheduling-link" data-btn="yes">{{ "Yes"|t }}</a>

    </div>

    <div class="appointment-flow__step-back">
      <i class="fa fa-angle-left" aria-hidden="true"></i>
      <a href="#">{{ "Back"|t }}</a>
    </div>
  </div>


  <div class="appointment-flow__step" data-step="visit-type">
    <p class="appointment-flow__step-text">{{ "Choose an appointment type"|t }}</p>

    <div class="appointment-flow__step-buttons">

      {#
        This template element is used to generate a button for each visit type
        in Javascript, ensuring correct markup. It is never displayed.
      #}
      <a href="#" class="appointment-flow__step-button btn-cta-solid" data-btn-visit-type-id="template">{{ "Template"|t }}</a>

    </div>

    <div class="appointment-flow__step-back">
      <i class="fa fa-angle-left" aria-hidden="true"></i>
      <a href="#">{{ "Back"|t }}</a>
    </div>

  </div>


  <div class="appointment-flow__step" data-step="open-schedule">

    {# TODO: temporary link while we are working to enable widget in iframe #}
    <p>
      <a class="appointment-flow__open-scheduling-link" href="https://ecare.uwmedicine.org/prod01/OpenScheduling/SignupAndSchedule/EmbeddedSchedule?id=&vt=&view=plain" target="_blank">Link to open scheduling widget</a>
    </p>
    
    <div class="appointment-flow__open-scheduling">

      {# TODO: bad to have iframe with a "broken" src at any point? #}
      <iframe class="appointment-flow__open-scheduling-embed" src="https://ecare.uwmedicine.org/prod01/OpenScheduling/SignupAndSchedule/EmbeddedSchedule?id=&vt=&view=plain" scrolling="no"></iframe>

    </div>

    <div class="appointment-flow__step-back">
      <i class="fa fa-angle-left" aria-hidden="true"></i>
      <a href="#">{{ "Back"|t }}</a>
    </div>

  </div>

</div>
